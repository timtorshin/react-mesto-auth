{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getData() {\n    return Promise.all([this.getUserData(), this.getInitialCards()]);\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfileInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._checkResponse);\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  } //   updateAvatar(inputData) {\n  //     return fetch(`${this._url}/users/me/avatar`, {\n  //       method: \"PATCH\",\n  //       headers: this._headers,\n  //       body: JSON.stringify({\n  //         avatar: inputData.link,\n  //       }),\n  //     }).then(this._checkResponse);\n  //   }\n\n\n  updateAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n  headers: {\n    authorization: 'b64fa093-d6bd-41e5-84d7-c528a8e6ffa0',\n    'Content-Type': 'application/json'\n  }\n});\nexport { api };","map":{"version":3,"sources":["/Users/timofeitorshin/dev/mesto-react/src/utils/api.js"],"names":["Api","constructor","options","_url","baseUrl","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","getData","all","getUserData","getInitialCards","fetch","then","editProfileInfo","name","about","method","body","JSON","stringify","addNewCard","link","removeCard","cardId","putLike","deleteLike","updateAvatar","avatar","api","authorization"],"mappings":"AAAA,MAAMA,GAAN,CAAU;AACRC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACnB,SAAKC,IAAL,GAAYD,OAAO,CAACE,OAApB;AACA,SAAKC,QAAL,GAAgBH,OAAO,CAACI,OAAxB;AACD;;AAEDC,EAAAA,cAAc,CAACC,GAAD,EAAM;AAClB,QAAIA,GAAG,CAACC,EAAR,EAAY;AACV,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD;;AAED,WAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;AACD;;AAEDC,EAAAA,OAAO,GAAG;AACR,WAAOH,OAAO,CAACI,GAAR,CAAY,CAAC,KAAKC,WAAL,EAAD,EAAqB,KAAKC,eAAL,EAArB,CAAZ,CAAP;AACD;;AAEDD,EAAAA,WAAW,GAAG;AACZ,WAAOE,KAAK,CAAE,GAAE,KAAKf,IAAK,WAAd,EAA0B;AACpCG,MAAAA,OAAO,EAAE,KAAKD;AADsB,KAA1B,CAAL,CAGNc,IAHM,CAGD,KAAKZ,cAHJ,CAAP;AAID;;AAEDU,EAAAA,eAAe,GAAG;AAChB,WAAOC,KAAK,CAAE,GAAE,KAAKf,IAAK,QAAd,EAAuB;AACjCG,MAAAA,OAAO,EAAE,KAAKD;AADmB,KAAvB,CAAL,CAGNc,IAHM,CAGD,KAAKZ,cAHJ,CAAP;AAID;;AAIAa,EAAAA,eAAe,CAACC,IAAD,EAAOC,KAAP,EAAc;AAC5B,WAAOJ,KAAK,CAAE,GAAE,KAAKf,IAAK,WAAd,EAA0B;AACpCoB,MAAAA,MAAM,EAAE,OAD4B;AAEpCjB,MAAAA,OAAO,EAAE,KAAKD,QAFsB;AAGpCmB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,IAAI,EAAEA,IADa;AAEnBC,QAAAA,KAAK,EAAEA;AAFY,OAAf;AAH8B,KAA1B,CAAL,CAOJH,IAPI,CAOC,KAAKZ,cAPN,CAAP;AAQD;;AAEDoB,EAAAA,UAAU,CAACN,IAAD,EAAOO,IAAP,EAAa;AACrB,WAAOV,KAAK,CAAE,GAAE,KAAKf,IAAK,QAAd,EAAuB;AACjCoB,MAAAA,MAAM,EAAE,MADyB;AAEjCjB,MAAAA,OAAO,EAAE,KAAKD,QAFmB;AAGjCmB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBL,QAAAA,IAAI,EAAEA,IADa;AAEnBO,QAAAA,IAAI,EAAEA;AAFa,OAAf;AAH2B,KAAvB,CAAL,CAOJT,IAPI,CAOC,KAAKZ,cAPN,CAAP;AAQD;;AAEDsB,EAAAA,UAAU,CAACC,MAAD,EAAS;AACjB,WAAOZ,KAAK,CAAE,GAAE,KAAKf,IAAK,UAAS2B,MAAO,EAA9B,EAAiC;AAC3CP,MAAAA,MAAM,EAAE,QADmC;AAE3CjB,MAAAA,OAAO,EAAE,KAAKD;AAF6B,KAAjC,CAAL,CAINc,IAJM,CAID,KAAKZ,cAJJ,CAAP;AAKD;;AAEDwB,EAAAA,OAAO,CAACD,MAAD,EAAS;AACd,WAAOZ,KAAK,CAAE,GAAE,KAAKf,IAAK,gBAAe2B,MAAO,EAApC,EAAuC;AACjDP,MAAAA,MAAM,EAAE,KADyC;AAEjDjB,MAAAA,OAAO,EAAE,KAAKD;AAFmC,KAAvC,CAAL,CAINc,IAJM,CAID,KAAKZ,cAJJ,CAAP;AAKD;;AAEDyB,EAAAA,UAAU,CAACF,MAAD,EAAS;AACjB,WAAOZ,KAAK,CAAE,GAAE,KAAKf,IAAK,gBAAe2B,MAAO,EAApC,EAAuC;AACjDP,MAAAA,MAAM,EAAE,QADyC;AAEjDjB,MAAAA,OAAO,EAAE,KAAKD;AAFmC,KAAvC,CAAL,CAINc,IAJM,CAID,KAAKZ,cAJJ,CAAP;AAKD,GA9EO,CAgFV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEE0B,EAAAA,YAAY,CAACC,MAAD,EAAS;AACnB,WAAOhB,KAAK,CAAE,GAAE,KAAKf,IAAK,kBAAd,EAAiC;AAC3CoB,MAAAA,MAAM,EAAE,OADmC;AAE3CjB,MAAAA,OAAO,EAAE,KAAKD,QAF6B;AAG3CmB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBQ,QAAAA,MAAM,EAAEA;AADW,OAAf;AAHqC,KAAjC,CAAL,CAMJf,IANI,CAMC,KAAKZ,cANN,CAAP;AAOD;;AAlGO;;AAqGV,MAAM4B,GAAG,GAAG,IAAInC,GAAJ,CAAQ;AAClBI,EAAAA,OAAO,EAAE,6CADS;AAElBE,EAAAA,OAAO,EAAE;AACP8B,IAAAA,aAAa,EAAE,sCADR;AAEP,oBAAgB;AAFT;AAFS,CAAR,CAAZ;AAQA,SAASD,GAAT","sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getData() {\n    return Promise.all([this.getUserData(), this.getInitialCards()]);\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n\n\n   editProfileInfo(name, about) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n//   updateAvatar(inputData) {\n//     return fetch(`${this._url}/users/me/avatar`, {\n//       method: \"PATCH\",\n//       headers: this._headers,\n//       body: JSON.stringify({\n//         avatar: inputData.link,\n//       }),\n//     }).then(this._checkResponse);\n//   }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n  headers: {\n    authorization: 'b64fa093-d6bd-41e5-84d7-c528a8e6ffa0',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport { api };\n"]},"metadata":{},"sourceType":"module"}