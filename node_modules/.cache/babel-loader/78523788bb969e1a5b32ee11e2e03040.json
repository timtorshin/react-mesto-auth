{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getData() {\n    return Promise.all([this.getUserData(), this.getInitialCards()]);\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfileInfo(inputData) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        about: inputData.description\n      })\n    }).then(this._checkResponse);\n  } //    editProfileInfo(name, about) {\n  //     return fetch(`${this._url}/users/me`, {\n  //       method: \"PATCH\",\n  //       headers: this._headers,\n  //       body: JSON.stringify({\n  //         name: name,\n  //         about: about,\n  //       }),\n  //     }).then(this._checkResponse);\n  //   }\n\n\n  addNewCard(inputData) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        link: inputData.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  updateAvatar(inputData) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: inputData.link\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n  headers: {\n    authorization: 'b64fa093-d6bd-41e5-84d7-c528a8e6ffa0',\n    'Content-Type': 'application/json'\n  }\n});\nexport { api };","map":{"version":3,"sources":["/Users/timofeitorshin/dev/mesto-react/src/utils/api.js"],"names":["Api","constructor","options","_url","baseUrl","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","getData","all","getUserData","getInitialCards","fetch","then","editProfileInfo","inputData","method","body","JSON","stringify","name","about","description","addNewCard","link","removeCard","cardId","putLike","deleteLike","updateAvatar","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getData() {\n    return Promise.all([this.getUserData(), this.getInitialCards()]);\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  editProfileInfo(inputData) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        about: inputData.description,\n      }),\n    }).then(this._checkResponse);\n  }\n\n//    editProfileInfo(name, about) {\n//     return fetch(`${this._url}/users/me`, {\n//       method: \"PATCH\",\n//       headers: this._headers,\n//       body: JSON.stringify({\n//         name: name,\n//         about: about,\n//       }),\n//     }).then(this._checkResponse);\n//   }\n\n  addNewCard(inputData) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputData.name,\n        link: inputData.link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._checkResponse);\n  }\n\n  updateAvatar(inputData) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: inputData.link,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n  headers: {\n    authorization: 'b64fa093-d6bd-41e5-84d7-c528a8e6ffa0',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport { api };\n"]},"metadata":{},"sourceType":"module"}